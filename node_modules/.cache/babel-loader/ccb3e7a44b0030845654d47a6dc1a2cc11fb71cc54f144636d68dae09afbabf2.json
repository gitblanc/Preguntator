{"ast":null,"code":"import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nconst noop = () => {};\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nexport const getRefTarget = ref => ref && ('current' in ref ? ref.current : ref);\nconst InitialTriggerEvents = {\n  click: 'mousedown',\n  mouseup: 'mousedown',\n  pointerup: 'pointerdown'\n};\n\n/**\r\n * The `useClickOutside` hook registers your callback on the document that fires\r\n * when a pointer event is registered outside of the provided ref or element.\r\n *\r\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\r\n * @param {function} onClickOutside\r\n * @param {object=}  options\r\n * @param {boolean=} options.disabled\r\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\r\n */\nfunction useClickOutside(ref) {\n  let onClickOutside = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  let {\n    disabled,\n    clickTrigger = 'click'\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const preventMouseClickOutsideRef = useRef(false);\n  const waitingForTrigger = useRef(false);\n  const handleMouseCapture = useCallback(e => {\n    const currentTarget = getRefTarget(ref);\n    warning(!!currentTarget, 'ClickOutside captured a close event but does not have a ref to compare it to. ' + 'useClickOutside(), should be passed a ref that resolves to a DOM node');\n    preventMouseClickOutsideRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, e.target) || waitingForTrigger.current;\n    waitingForTrigger.current = false;\n  }, [ref]);\n  const handleInitialMouse = useEventCallback(e => {\n    const currentTarget = getRefTarget(ref);\n    if (currentTarget && contains(currentTarget, e.target)) {\n      waitingForTrigger.current = true;\n    }\n  });\n  const handleMouse = useEventCallback(e => {\n    if (!preventMouseClickOutsideRef.current) {\n      onClickOutside(e);\n    }\n  });\n  useEffect(() => {\n    var _ownerWindow$event, _ownerWindow$parent;\n    if (disabled || ref == null) return undefined;\n    const doc = ownerDocument(getRefTarget(ref));\n    const ownerWindow = doc.defaultView || window;\n\n    // Store the current event to avoid triggering handlers immediately\n    // For things rendered in an iframe, the event might originate on the parent window\n    // so we should fall back to that global event if the local one doesn't exist\n    // https://github.com/facebook/react/issues/20074\n    let currentEvent = (_ownerWindow$event = ownerWindow.event) != null ? _ownerWindow$event : (_ownerWindow$parent = ownerWindow.parent) == null ? void 0 : _ownerWindow$parent.event;\n    let removeInitialTriggerListener = null;\n    if (InitialTriggerEvents[clickTrigger]) {\n      removeInitialTriggerListener = listen(doc, InitialTriggerEvents[clickTrigger], handleInitialMouse, true);\n    }\n\n    // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n    const removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\n    const removeMouseListener = listen(doc, clickTrigger, e => {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n      handleMouse(e);\n    });\n    let mobileSafariHackListeners = [];\n    if ('ontouchstart' in doc.documentElement) {\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(el => listen(el, 'mousemove', noop));\n    }\n    return () => {\n      removeInitialTriggerListener == null ? void 0 : removeInitialTriggerListener();\n      removeMouseCaptureListener();\n      removeMouseListener();\n      mobileSafariHackListeners.forEach(remove => remove());\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleInitialMouse, handleMouse]);\n}\nexport default useClickOutside;","map":{"version":3,"names":["contains","listen","ownerDocument","useCallback","useEffect","useRef","useEventCallback","warning","noop","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","getRefTarget","ref","current","InitialTriggerEvents","click","mouseup","pointerup","useClickOutside","onClickOutside","arguments","length","undefined","disabled","clickTrigger","preventMouseClickOutsideRef","waitingForTrigger","handleMouseCapture","e","currentTarget","target","handleInitialMouse","handleMouse","_ownerWindow$event","_ownerWindow$parent","doc","ownerWindow","defaultView","window","currentEvent","parent","removeInitialTriggerListener","removeMouseCaptureListener","removeMouseListener","mobileSafariHackListeners","documentElement","slice","call","body","children","map","el","forEach","remove"],"sources":["C:/Users/blanc/Desktop/Preguntator/node_modules/@restart/ui/esm/useClickOutside.js"],"sourcesContent":["import contains from 'dom-helpers/contains';\r\nimport listen from 'dom-helpers/listen';\r\nimport ownerDocument from 'dom-helpers/ownerDocument';\r\nimport { useCallback, useEffect, useRef } from 'react';\r\nimport useEventCallback from '@restart/hooks/useEventCallback';\r\nimport warning from 'warning';\r\nconst noop = () => {};\r\nfunction isLeftClickEvent(event) {\r\n  return event.button === 0;\r\n}\r\nfunction isModifiedEvent(event) {\r\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n}\r\nexport const getRefTarget = ref => ref && ('current' in ref ? ref.current : ref);\r\nconst InitialTriggerEvents = {\r\n  click: 'mousedown',\r\n  mouseup: 'mousedown',\r\n  pointerup: 'pointerdown'\r\n};\r\n\r\n/**\r\n * The `useClickOutside` hook registers your callback on the document that fires\r\n * when a pointer event is registered outside of the provided ref or element.\r\n *\r\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\r\n * @param {function} onClickOutside\r\n * @param {object=}  options\r\n * @param {boolean=} options.disabled\r\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\r\n */\r\nfunction useClickOutside(ref, onClickOutside = noop, {\r\n  disabled,\r\n  clickTrigger = 'click'\r\n} = {}) {\r\n  const preventMouseClickOutsideRef = useRef(false);\r\n  const waitingForTrigger = useRef(false);\r\n  const handleMouseCapture = useCallback(e => {\r\n    const currentTarget = getRefTarget(ref);\r\n    warning(!!currentTarget, 'ClickOutside captured a close event but does not have a ref to compare it to. ' + 'useClickOutside(), should be passed a ref that resolves to a DOM node');\r\n    preventMouseClickOutsideRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, e.target) || waitingForTrigger.current;\r\n    waitingForTrigger.current = false;\r\n  }, [ref]);\r\n  const handleInitialMouse = useEventCallback(e => {\r\n    const currentTarget = getRefTarget(ref);\r\n    if (currentTarget && contains(currentTarget, e.target)) {\r\n      waitingForTrigger.current = true;\r\n    }\r\n  });\r\n  const handleMouse = useEventCallback(e => {\r\n    if (!preventMouseClickOutsideRef.current) {\r\n      onClickOutside(e);\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    var _ownerWindow$event, _ownerWindow$parent;\r\n    if (disabled || ref == null) return undefined;\r\n    const doc = ownerDocument(getRefTarget(ref));\r\n    const ownerWindow = doc.defaultView || window;\r\n\r\n    // Store the current event to avoid triggering handlers immediately\r\n    // For things rendered in an iframe, the event might originate on the parent window\r\n    // so we should fall back to that global event if the local one doesn't exist\r\n    // https://github.com/facebook/react/issues/20074\r\n    let currentEvent = (_ownerWindow$event = ownerWindow.event) != null ? _ownerWindow$event : (_ownerWindow$parent = ownerWindow.parent) == null ? void 0 : _ownerWindow$parent.event;\r\n    let removeInitialTriggerListener = null;\r\n    if (InitialTriggerEvents[clickTrigger]) {\r\n      removeInitialTriggerListener = listen(doc, InitialTriggerEvents[clickTrigger], handleInitialMouse, true);\r\n    }\r\n\r\n    // Use capture for this listener so it fires before React's listener, to\r\n    // avoid false positives in the contains() check below if the target DOM\r\n    // element is removed in the React mouse callback.\r\n    const removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\r\n    const removeMouseListener = listen(doc, clickTrigger, e => {\r\n      // skip if this event is the same as the one running when we added the handlers\r\n      if (e === currentEvent) {\r\n        currentEvent = undefined;\r\n        return;\r\n      }\r\n      handleMouse(e);\r\n    });\r\n    let mobileSafariHackListeners = [];\r\n    if ('ontouchstart' in doc.documentElement) {\r\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(el => listen(el, 'mousemove', noop));\r\n    }\r\n    return () => {\r\n      removeInitialTriggerListener == null ? void 0 : removeInitialTriggerListener();\r\n      removeMouseCaptureListener();\r\n      removeMouseListener();\r\n      mobileSafariHackListeners.forEach(remove => remove());\r\n    };\r\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleInitialMouse, handleMouse]);\r\n}\r\nexport default useClickOutside;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}